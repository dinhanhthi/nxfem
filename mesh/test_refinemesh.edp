// Mesh
real x0=0, x1=0.5, y0=0, y1=0.5;
int n=10;
mesh Th = square(n,n,[x0+(x1-x0)*x,y0+(y1-y0)*y]);
// plot(Th, wait=true);

// split mesh (only 1 func)
// func f = 1 + (1 + 2*(y-1.5)^2)*(x<0.5) + (1 + 2*(y-1.5)^2)*(x>=0.5);
// func f = 1 + (1 + 2*(y-1.5)^2);
func f = 1 + ((y-0.5)^2)*(x<0.09) + (1 + 2*(y-1.5)^2)*(x>=0.09 & x<=0.41) + 1 + ((y-0.5)^2)*(x>0.41);
Th = splitmesh(Th, f);
plot(Th, wait=1);
savemesh(Th,"Th.msh");


// split mesh (use 2 diff meshses)
// mesh Th1, Th2, Th3;

// func f1 = (1 + 2*(y-1.5)^2)*(x<=0.5);
// Th1 = splitmesh(Th, f1);

// func f2 = (1 + 2*(y-1.5)^2)*(x>=0.5);
// Th2 = splitmesh(Th, f2);

// Th3 = Th1 + Th2;

// plot(Th3, wait=true);

// savemesh(Th3,"Th3.msh");